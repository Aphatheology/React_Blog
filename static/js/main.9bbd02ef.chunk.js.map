{"version":3,"sources":["../node_modules/cloudinary/lib/utils sync","firebaseConfig.js","components/DeleteArticle.js","components/LikeArticle.js","components/Articles.js","components/Navbar.js","components/NewArticle.js","components/auth/Register.js","components/auth/Login.js","components/Comment.js","components/ReadEachArticle.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getStorage","getFirestore","auth","getAuth","cloudinary","config","cloud_name","process","api_key","api_secret","DeleteArticle","handleDelete","a","docRef","doc","getDoc","docSnap","exists","imgId","data","imgPublicId","v2","uploader","destroy","error","result","console","log","then","resp","catch","_err","deleteDoc","onClick","LikeArticle","likes","useAuthState","user","likesRef","includes","uid","updateDoc","arrayRemove","arrayUnion","style","cursor","color","Articles","useState","articles","setArticles","useEffect","articlesRef","collection","q","query","orderBy","onSnapshot","snapshot","docs","map","className","length","title","description","imgUrl","createdAt","createdBy","userId","comments","src","alt","to","toDate","toDateString","Navbar","displayName","signOut","NewArticle","Timestamp","now","formData","setFormData","ref","useRef","handleFormData","target","name","value","prevFormData","onSubmit","preventDefault","trim","FormData","append","fetch","method","body","json","articleRef","addDoc","url","public_id","current","err","alert","type","placeholder","onChange","required","accept","img","files","handleImageChange","Register","email","username","password","registerForm","setRegisterForm","navigate","useNavigate","handleRegisterForm","prevForm","createUserWithEmailAndPassword","updateProfile","currentUser","Login","loginForm","setLoginForm","handleLoginForm","signInWithEmailAndPassword","Comment","setComments","commentForm","setCommentForm","currentlyLoggedInUser","newCommentRef","commentRef","userName","comment","Date","commentId","uuidv4","handleDeleteComment","ReadEachArticle","useParams","article","setArticle","App","path","element","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"2aAAA,SAASA,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,gKCQnBC,EAAMC,YAVW,CACrBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,8CAOIC,GADUC,YAAWT,GAChBU,YAAaV,IAClBW,EAAOC,YAAQZ,G,0DCL5Ba,IAAWC,OAAO,CAChBC,WAAYC,eACZC,QAASD,kBACTE,WAAYF,gCA4BCG,MAzBf,YAA8B,IAANpB,EAAK,EAALA,GACdqB,EAAY,uCAAG,gCAAAC,EAAA,6DACXC,EAASC,YAAIf,EAAI,WAAYT,GADlB,SAEKyB,YAAOF,GAFZ,cAEXG,EAFW,QAGLC,UACNC,EAAQF,EAAQG,OAAOC,cAErBhB,IAAWiB,GAAGC,SAASC,QAAQL,GAAO,SAASM,EAAMC,GACjDC,QAAQC,IAAIF,EAAQD,MACnBI,MAAK,SAAAC,GAAI,OAAIH,QAAQC,IAAIE,MACzBC,OAAM,SAAAC,GAAI,OAAGL,QAAQC,IAAI,oDAIpCD,QAAQC,IAAI,qBAbG,SAiBXK,YAAUlB,YAAIf,EAAI,WAAYT,IAjBnB,2CAAH,qDAmBpB,OACE,wBAAQ2C,QAAStB,EAAjB,6BCFWuB,MAnCf,YAAmC,IAAb5C,EAAY,EAAZA,GAAI6C,EAAQ,EAARA,MACtB,EAAeC,YAAalC,GAArBmC,EAAP,oBACMC,EAAWxB,YAAIf,EAAI,WAAYT,GAyBvC,OACE,wBAAQ2C,QAAS,WAvBb,OAAGE,QAAH,IAAGA,KAAOI,SAASF,EAAKG,KACpBC,YAAUH,EAAU,CAChBH,MAAOO,YAAYL,EAAKG,OAK3BV,OAAM,SAACN,GACJE,QAAQC,IAAIH,MAGhBiB,YAAUH,EAAU,CAChBH,MAAOQ,YAAWN,EAAKG,OAK1BV,OAAM,SAACN,GACJE,QAAQC,IAAIH,OAKeoB,MAAO,CAC1CC,OAAQ,UACRC,MAAY,OAALX,QAAK,IAALA,KAAOI,SAASF,EAAKG,KAAO,MAAQ,QAF/C,mBC0BWO,MAjDf,WACI,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAed,YAAalC,GAArBmC,EAAP,oBAgBF,OAfEc,qBAAU,WACN,IAAMC,EAAcC,YAAWtD,EAAI,YAE7BuD,EAAIC,YAAMH,EAAaI,YAAQ,YAAa,SAElDC,YAAWH,GAAG,SAACI,GACX,IAAMT,EAAWS,EAASC,KAAKC,KAAI,SAAA9C,GAAG,oBAClCxB,GAAIwB,EAAIxB,IACLwB,EAAIK,WAGX+B,EAAYD,QAGjB,IAEH,qBAAKY,UAAU,WAAf,SAE4B,IAApBZ,EAASa,OAAgB,kDAErBb,EAASW,KAAI,gBAAEtE,EAAF,EAAEA,GAAIyE,EAAN,EAAMA,MAAOC,EAAb,EAAaA,YAAaC,EAA1B,EAA0BA,OAAQC,EAAlC,EAAkCA,UAAWC,EAA7C,EAA6CA,UAAWC,EAAxD,EAAwDA,OAAQjC,EAAhE,EAAgEA,MAAOkC,EAAvE,EAAuEA,SAAvE,OACT,sBAAKR,UAAU,cAAf,UACI,qBAAKS,IAAKL,EAAQM,IAAI,iBACtB,gCACI,cAAC,IAAD,CAAMC,GAAE,mBAAcL,EAAd,YAA2B7E,GAAnC,SAAyC,+BAAKyE,EAAL,SAEzC,4CAAeG,EAAUO,SAASC,eAAlC,OAAsDP,KACtD,mBAAGN,UAAU,iBAAb,SAA+BG,IAE3B3B,GAAQA,EAAKG,MAAQ4B,GAAU,cAAC,EAAD,CAAe9E,GAAIA,IAIlD+C,GAAQ,cAAC,EAAD,CAAa/C,GAAIA,EAAI6C,MAAOA,IAExC,qCAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAO2B,OAAX,IAAoB3B,EAAM2B,OAAS,EAAI,QAAU,OAAjD,eAA8DO,QAA9D,IAA8DA,OAA9D,EAA8DA,EAAUP,OAAxE,IAAiFO,EAASP,OAAS,EAAI,WAAa,kBAd1FxE,SCXvCqF,MAjBf,WACI,MAAevC,YAAalC,GAArBmC,EAAP,oBAEF,OACE,sBAAKwB,UAAU,SAAf,UACI,cAAC,IAAD,CAAMW,GAAG,IAAT,kBACCnC,GACG,qCACI,8CAAiBA,EAAKuC,eAEtB,wBAAQ3C,QAAS,WAAO4C,YAAQ3E,IAAhC,6B,OC0GD4E,MAhHf,WACI,MAAe1C,YAAalC,GAArBmC,EAAP,oBACA,EAAgCW,mBAAS,CACrCe,MAAO,GACPC,YAAa,GACbC,OAAQ,GACRC,UAAWa,IAAUC,MAAMP,WAJ/B,mBAAOQ,EAAP,KAAiBC,EAAjB,KAOMC,EAAMC,mBAGZ,SAASC,EAAetG,GACpB,MAAoBA,EAAEuG,OAAjBC,EAAL,EAAKA,KAAMC,EAAX,EAAWA,MAEXN,GAAY,SAAAO,GAAY,kCACjBA,GADiB,kBAEnBF,EAAQC,OAmEnB,OACE,qBAAK3B,UAAU,aAAf,SAESxB,EAOD,qCACI,oDACA,uBAAMqD,SAnElB,SAA0B3G,GAEtB,GADAA,EAAE4G,iBACEV,EAASlB,OAAmC,KAA1BkB,EAASlB,MAAM6B,QAAkBX,EAASjB,aAA8C,KAAhCiB,EAASjB,YAAY4B,QAAmBX,EAAShB,OAA/H,CAKA,IAAM9C,EAAO,IAAI0E,SACjB1E,EAAK2E,OAAO,OAAQb,EAAShB,QAC7B9C,EAAK2E,OAAO,gBAAiB,WAC7B3E,EAAK2E,OAAO,aAAa,gBACzBC,MAAM,4DAA6D,CACnEC,OAAO,OACPC,KAAM9E,IAELS,MAAK,SAAAC,GAAI,OAAIA,EAAKqE,UAClBtE,MAAK,SAAAT,GAEF,IAAMgF,EAAa9C,YAAWtD,EAAI,YAClCqG,YAAOD,EAAY,CACjBpC,MAAOkB,EAASlB,MAChBC,YAAaiB,EAASjB,YACtBC,OAAQ9C,EAAKkF,IACbnC,UAAWa,IAAUC,MAAMP,SAC3BN,UAAW9B,EAAKuC,YAChBR,OAAQ/B,EAAKG,IACbL,MAAO,GACPkC,SAAU,GACVjD,YAAaD,EAAKmF,eASvB1E,MAAK,WACFsD,EAAY,CACVnB,MAAO,GACPC,YAAa,GACbC,OAAQ,KAEVkB,EAAIoB,QAAQf,MAAQ,MAEvB1D,OAAM,SAAA0E,GAAG,OAAI9E,QAAQC,IAAI6E,WA1CtBC,MAAM,+BAgEF,UACI,uBAAOC,KAAK,OAAOnB,KAAK,QAAQC,MAAOP,EAASlB,MAAO4C,YAAY,gBAAgBC,SAAU,SAAC7H,GAAD,OAAOsG,EAAetG,IAAI8H,UAAQ,IAE/H,0BAAUH,KAAK,OAAOnB,KAAK,cAAcC,MAAOP,EAASjB,YAAa4C,SAAU,SAAC7H,GAAD,OAAOsG,EAAetG,IAAI8H,UAAQ,EAAlH,eAEA,uBAAOH,KAAK,OAAOI,OAAO,UAAUvB,KAAK,SAASqB,SAAU,SAAC7H,GAAD,OAhF5E,SAA2BA,GAEvB,IAAIgI,EAAMhI,EAAEuG,OAAO0B,MAAM,GAEzB9B,GAAY,SAAAO,GAAY,kCAAUA,GAAV,IAAwBxB,OAAQ8C,OA4EuBE,CAAkBlI,IAAIoG,IAAKA,EAAK0B,UAAQ,IAE3G,kDAfR,mCACI,8BACI,cAAC,IAAD,CAAMrC,GAAG,SAAT,mBADJ,2BAC0D,uBAD1D,0BAE2B,cAAC,IAAD,CAAMA,GAAG,YAAT,+B,QC/B5B0C,MAjEf,WACI,MAAwClE,mBAAS,CAC7CmE,MAAO,GACPC,SAAU,GACVC,SAAU,KAHd,mBAAOC,EAAP,KAAqBC,EAArB,KAKMC,EAAWC,cAGjB,SAASC,EAAmB3I,GACxB,MAAsBA,EAAEuG,OAAjBC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,MACb+B,GAAgB,SAAAI,GAAQ,kCACjBA,GADiB,kBAEnBpC,EAAOC,OAbA,4CAqBhB,sBAAA5E,EAAA,+EAEcgH,YAA+B1H,EAAMoH,EAAaH,MAAOG,EAAaD,UAFpF,OAGQQ,YAAc3H,EAAK4H,YAAa,CAAClD,YAAa0C,EAAaF,WAC3DI,EAAS,KAJjB,gDAOQ9F,QAAQC,IAAR,MAPR,0DArBgB,sBA+BlB,OACE,sBAAKkC,UAAU,WAAf,UACI,0CACA,uBAAM6B,SAjBV,SAAsB3G,GAClBA,EAAE4G,kBAgBF,UACI,uBACIe,KAAK,QACLlB,MAAO8B,EAAaH,MACpB5B,KAAK,QACLqB,SAAUc,EACVf,YAAY,UAGhB,uBACID,KAAK,OACLlB,MAAO8B,EAAaF,SACpB7B,KAAK,WACLqB,SAAUc,EACVf,YAAY,aAGhB,uBACID,KAAK,WACLlB,MAAO8B,EAAaD,SACpB9B,KAAK,WACLqB,SAAUc,EACVf,YAAY,aAGhB,wBAAQ1E,QA3DA,2CA2DR,2BCFG8F,MAzDf,WACI,MAAkC/E,mBAAS,CACvCmE,MAAO,GACPE,SAAU,KAFd,mBAAOW,EAAP,KAAkBC,EAAlB,KAIMT,EAAWC,cAGjB,SAASS,EAAgBnJ,GACrB,MAAsBA,EAAEuG,OAAjBC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,MACbyC,GAAa,SAAAN,GAAQ,kCACdA,GADc,kBAEhBpC,EAAOC,OAZH,4CAoBb,sBAAA5E,EAAA,+EAGcuH,YAA2BjI,EAAM8H,EAAUb,MAAOa,EAAUX,UAH1E,OAKQG,EAAS,KALjB,+CAQQ9F,QAAQC,IAAR,MARR,yDApBa,sBA+Bf,OACE,sBAAKkC,UAAU,WAAf,UACI,uCACA,uBAAM6B,SAlBV,SAAsB3G,GAClBA,EAAE4G,kBAiBF,UACI,uBACIe,KAAK,QACLlB,MAAOwC,EAAUb,MACjB5B,KAAK,QACLqB,SAAUsB,EACVvB,YAAY,UAGhB,uBACID,KAAK,WACLlB,MAAOwC,EAAUX,SACjB9B,KAAK,WACLqB,SAAUsB,EACVvB,YAAY,aAGhB,wBAAQ1E,QAnDH,2CAmDL,0B,SCyDGmG,MA3Gf,YAAwB,IAAN9I,EAAK,EAALA,GACd,EAAgC0D,mBAAS,IAAzC,mBAAOqB,EAAP,KAAiBgE,EAAjB,KACA,EAAsCrF,mBAAS,IAA/C,mBAAOsF,EAAP,KAAoBC,EAApB,KACA,EAAgCnG,YAAalC,GAAtCsI,EAAP,oBAEMC,EAAgB3H,YAAIf,EAAI,WAAYT,GA4D5C,OA3DE6D,qBAAU,WACN,IAAMuF,EAAa5H,YAAIf,EAAI,WAAYT,GACvCmE,YAAWiF,GAAY,SAAChF,GACpB2E,EAAY3E,EAASvC,OAAOkD,eAKjC,IAoDH,gCAEQmE,GAEA,sBAAK3E,UAAU,UAAf,UAEI,uBACI6C,KAAK,OACLlB,MAAO8C,EACP/C,KAAK,UACLqB,SAAU,SAAC7H,GAAD,OAAOwJ,EAAexJ,EAAEuG,OAAOE,QACzCmB,YAAY,kBAEhB,wBAAQ1E,QAvCpB,SAAuBlD,GACnB0D,YAAUgG,EAAe,CACrBpE,SAAU1B,YAAW,CACjBN,KAAMmG,EAAsBhG,IAC5BmG,SAAUH,EAAsB5D,YAChCgE,QAASN,EACTpE,UAAW,IAAI2E,KACfC,UAAWC,kBAEhBnH,MAAK,kBAAM2G,EAAe,QA8BrB,6BAGO,OAAblE,GACEA,EAAST,KAAI,gBAAEkF,EAAF,EAAEA,UAAWH,EAAb,EAAaA,SAAUtG,EAAvB,EAAuBA,KAAMuG,EAA7B,EAA6BA,QAAS1E,EAAtC,EAAsCA,UAAtC,OAET,gCAEG,oBAAItB,MAAO,CACPE,MAAiC,OAA1B0F,GAAkCnG,IAASmG,EAAsBhG,IAAM,QAAU,QAD5F,SAEImG,IAEJ,4BAAIC,IAE2B,OAA1BJ,GAAkCnG,IAASmG,EAAsBhG,KAClE,wBAAQP,QAAS,kBArER,SAAC2G,GAEzBnG,YAAUgG,EAAe,CACrBpE,SAAU3B,YAAYkG,KAGzB9G,OAAM,SAACN,GACJE,QAAQC,IAAIH,MA8DsBwH,CAAoB,CAAEF,YAAWzG,OAAMuG,UAASD,WAAWzE,eAAlF,8BATG4E,UCtDXG,MA7Bf,WACI,IAAO3J,EAAM4J,cAAN5J,GACP,EAA8B0D,mBAAS,MAAvC,mBAAOmG,EAAP,KAAgBC,EAAhB,KACA,EAAehH,YAAalC,GAArBmC,EAAP,oBAOF,OANEc,qBAAU,WACN,IAAMtC,EAASC,YAAIf,EAAI,WAAYT,GACnCmE,YAAW5C,GAAQ,SAAC6C,GAChB0F,EAAW,2BAAI1F,EAASvC,QAAd,IAAsB7B,GAAIoE,EAASpE,WAElD,IAEH,8BAEQ6J,GACA,gCAEI,6BAAKA,EAAQpF,QACb,4CAAeoF,EAAQjF,UAAUO,SAASC,eAA1C,OAA8DyE,EAAQhF,aACtE,qBAAKG,IAAK6E,EAAQlF,SAClB,4BAAIkF,EAAQnF,cACX3B,GAAQ,cAAC,EAAD,CAAa/C,GAAIA,EAAI6C,MAAOgH,EAAQhH,QAC7C,cAAC,EAAD,CAAS7C,GAAI6J,EAAQ7J,WCAtB+J,MApBf,WACE,OACE,qBAAKxF,UAAU,MAAf,SAEI,eAAC,IAAD,WACI,cAAC,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOyF,KAAK,YAAYC,QAAS,cAAC,EAAD,MACjC,cAAC,IAAD,CAAOD,KAAK,SAASC,QAAS,cAAC,EAAD,MAC9B,cAAC,IAAD,CAAOD,KAAM,IAAsBC,QAAS,qCAAE,cAAC,EAAD,IAAc,cAAC,EAAD,SAG5D,cAAC,IAAD,CAAOD,KAAK,0BAA0BC,QAAS,cAAC,EAAD,IAA/C,wBChBHC,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,S","file":"static/js/main.9bbd02ef.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 529;","import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport {getFirestore} from \"firebase/firestore\";\r\nimport {getStorage} from \"firebase/storage\";\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCm2-vBF_Nj-jkLH_PsHVQBxARfwm2379Q\",\r\n  authDomain: \"betablog-9c10a.firebaseapp.com\",\r\n  projectId: \"betablog-9c10a\",\r\n  storageBucket: \"betablog-9c10a.appspot.com\",\r\n  messagingSenderId: \"489934495566\",\r\n  appId: \"1:489934495566:web:283eace4748b85351f881f\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const storage = getStorage(app);\r\nexport const db = getFirestore(app);\r\nexport const auth = getAuth(app);","\r\nimport { deleteDoc, doc, getDoc } from 'firebase/firestore'\r\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\"\r\nimport { ref } from 'firebase/storage'\r\nimport { onValue } from 'firebase/database'\r\nimport React from 'react'\r\nimport { db } from '../firebaseConfig'\r\n//import { toast } from \"react-toastify\";\r\nimport cloudinary from \"cloudinary/lib/cloudinary\";\r\n// import { v2 as cloudinary } from 'cloudinary'\r\n// import { v2 as cloudinary } from 'cloudinary'\r\n//const cloudinary = require(\"cloudinary\").v2;\r\n// import {AdvancedImage} from '@cloudinary/react';\r\n// import {Cloudinary} from \"@cloudinary/url-gen\";\r\n \r\ncloudinary.config({\r\n  cloud_name: process.env.REACT_APP_CLOUD_NAME,\r\n  api_key: process.env.REACT_APP_API_KEY,\r\n  api_secret: process.env.REACT_APP_API_SECRET\r\n});\r\n\r\nfunction DeleteArticle({id}) {\r\n    const handleDelete = async () => {\r\n        const docRef = doc(db, \"Articles\", id);\r\n        const docSnap = await getDoc(docRef);\r\n        if (docSnap.exists()) {\r\n          let imgId = docSnap.data().imgPublicId\r\n            if(imgId) {\r\n                cloudinary.v2.uploader.destroy(imgId, function(error,result) {\r\n                    console.log(result, error, ) })\r\n                    .then(resp => console.log(resp))\r\n                    .catch(_err=> console.log(\"Something went wrong, please try again later.\"));\r\n            }\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n\r\n        }\r\n\r\n        await deleteDoc(doc(db, \"Articles\", id))    \r\n    }\r\n  return (\r\n    <button onClick={handleDelete}>Delete Article</button>\r\n  )\r\n}\r\n\r\nexport default DeleteArticle","import { arrayRemove, arrayUnion, doc, updateDoc } from 'firebase/firestore'\r\nimport React from 'react'\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\nimport { auth, db } from '../firebaseConfig'\r\n\r\nfunction LikeArticle({id, likes}) {\r\n    const [user] = useAuthState(auth)\r\n    const likesRef = doc(db, \"Articles\", id)\r\n\r\n    function handleLike(id) {\r\n        if(likes?.includes(user.uid)) {\r\n            updateDoc(likesRef, {\r\n                likes: arrayRemove(user.uid)\r\n            })\r\n            // .then(() => {\r\n            //     console.log(\"unliked\")\r\n            // })\r\n            .catch((error) => {\r\n                console.log(error)\r\n            })\r\n        } else {\r\n            updateDoc(likesRef, {\r\n                likes: arrayUnion(user.uid)\r\n            })\r\n            // .then(() => {\r\n            //     console.log(\"liked \")\r\n            // })\r\n            .catch((error) => {\r\n                console.log(error)\r\n            })\r\n        }\r\n    }\r\n  return (\r\n    <button onClick={() => handleLike(id)} style={{\r\n        cursor: \"pointer\",\r\n        color: likes?.includes(user.uid) ? \"red\" : \"blue\"\r\n    }}>Like</button>\r\n  )\r\n}\r\n\r\nexport default LikeArticle","import { collection, onSnapshot, orderBy, query } from \"firebase/firestore\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useAuthState } from \"react-firebase-hooks/auth\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { auth, db } from \"../firebaseConfig\"\r\nimport DeleteArticle from \"./DeleteArticle\"\r\nimport LikeArticle from \"./LikeArticle\"\r\n\r\n\r\n\r\nfunction Articles() {\r\n    const [articles, setArticles] = useState([])\r\n    const [user] = useAuthState(auth )\r\n    useEffect(() => {\r\n        const articlesRef = collection(db, \"Articles\");\r\n\r\n        const q = query(articlesRef, orderBy(\"createdAt\", \"desc\"))\r\n\r\n        onSnapshot(q, (snapshot ) => {\r\n            const articles = snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            \r\n            setArticles(articles)\r\n            // console.log(articles)\r\n        })\r\n    }, [])\r\n  return (\r\n    <div className=\"articles\">\r\n        {\r\n            articles.length === 0 ? (<p>No Articles found</p>) : \r\n            (\r\n                articles.map(({id, title, description, imgUrl, createdAt, createdBy, userId, likes, comments}) => (\r\n                    <div className=\"eacharticle\" key={id}>\r\n                        <img src={imgUrl} alt=\"Article pics\"></img>\r\n                        <div> \r\n                            <Link to={`/article/${createdBy}/${id}`}><h2>{title} </h2></Link>\r\n                            \r\n                            <p>Created on {createdAt.toDate().toDateString()} by {createdBy}</p>\r\n                            <p className=\"onlythreelines\">{description}</p>\r\n                            {\r\n                                user && user.uid === userId && <DeleteArticle id={id}/>\r\n                            }\r\n\r\n                            {\r\n                                user && <LikeArticle id={id} likes={likes} />\r\n                            }\r\n                            <p>{likes?.length} {likes.length > 1 ? \"likes\" : \"like\"} and {comments?.length} {comments.length > 1 ? \"comments\" : \"comment\"}</p>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                ))\r\n            )\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Articles","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebaseConfig'\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\nimport { signOut } from 'firebase/auth'\r\n\r\nfunction Navbar() {\r\n    const [user] = useAuthState(auth)\r\n    \r\n  return (\r\n    <div className='navbar'>\r\n        <Link to=\"/\">Home</Link>\r\n        {user && \r\n            <>\r\n                <p>Signed in as {user.displayName}</p>\r\n\r\n                <button onClick={() => {signOut(auth)}}>Sign Out</button>\r\n            </>\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar","\r\nimport { useRef, useState } from \"react\"\r\nimport { Timestamp, collection, addDoc } from \"firebase/firestore\";\r\nimport { ref, uploadBytesResumable, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { storage, db, auth } from \"./../firebaseConfig\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { Link } from \"react-router-dom\";\r\n//import { toast } from \"react-toastify\";\r\n\r\n\r\nfunction NewArticle() {\r\n    const [user] = useAuthState(auth)\r\n    const [formData, setFormData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        imgUrl: \"\",\r\n        createdAt: Timestamp.now().toDate()\r\n    })\r\n\r\n    const ref = useRef();\r\n\r\n\r\n    function handleFormData(e) {\r\n        let {name, value} = e.target;\r\n        // console.log(target)\r\n        setFormData(prevFormData => ({\r\n            ...prevFormData,\r\n            [name]:  value\r\n        }))\r\n    }\r\n\r\n    function handleImageChange(e)  {\r\n        \r\n        let img = e.target.files[0]\r\n        // console.log(img)\r\n        setFormData(prevFormData => ({ ...prevFormData, imgUrl: img }));\r\n        // console.log(formData)\r\n      };\r\n\r\n    function handleFormSubmit(e) {\r\n        e.preventDefault();\r\n        if(!formData.title || formData.title.trim() === \"\" || !formData.description ||formData.description.trim() === \"\"  || !formData.imgUrl) {\r\n            alert(\"Please fill all the fields\")\r\n            return;\r\n        }\r\n\r\n        const data = new FormData()\r\n        data.append(\"file\", formData.imgUrl)\r\n        data.append(\"upload_preset\", \"article\")\r\n        data.append(\"cloud_name\",\"aphatheology\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/aphatheology/image/upload\", {\r\n        method:\"post\", \r\n        body: data\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            // console.log(data)\r\n            const articleRef = collection(db, \"Articles\");\r\n            addDoc(articleRef, {\r\n              title: formData.title,\r\n              description: formData.description,\r\n              imgUrl: data.url,\r\n              createdAt: Timestamp.now().toDate(),\r\n              createdBy: user.displayName,\r\n              userId: user.uid,\r\n              likes: [ ],\r\n              comments: [],\r\n              imgPublicId: data.public_id\r\n            })\r\n            // setFormData({\r\n            //     title: \"\",\r\n            //     description: \"\",\r\n            //     imgUrl: \"\"\r\n            //   });\r\n           \r\n        })\r\n        .then(() => {\r\n            setFormData({\r\n              title: \"\",\r\n              description: \"\",\r\n              imgUrl: \"\",\r\n            });\r\n            ref.current.value = \"\";\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        // (() => {\r\n        //     setFormData({\r\n        //       title: \"\",\r\n        //       description: \"\",\r\n        //       imgUrl: \"\",\r\n        //     });\r\n        // })\r\n    }\r\n  return (\r\n    <div className=\"newarticle\">\r\n        {\r\n            !user ?\r\n            <>\r\n                <p>\r\n                    <Link to=\"/login\">Login</Link> to create new Article. <br />\r\n                    Don't have an account? <Link to=\"/register\">Register </Link>\r\n                </p>\r\n            </> :\r\n            <>\r\n                <h2>Create new Article</h2>\r\n                <form onSubmit={handleFormSubmit}>\r\n                    <input type=\"text\" name=\"title\" value={formData.title} placeholder=\"Article Title\" onChange={(e) => handleFormData(e)} required/>\r\n\r\n                    <textarea type=\"text\" name=\"description\" value={formData.description} onChange={(e) => handleFormData(e)} required> </textarea>\r\n\r\n                    <input type=\"file\" accept=\"image/*\" name=\"imgUrl\" onChange={(e) => handleImageChange(e)} ref={ref} required/>\r\n\r\n                    <button>Submit</button>\r\n                </form>\r\n            </>\r\n        }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NewArticle","import { useState } from 'react'\r\nimport {createUserWithEmailAndPassword, updateProfile} from 'firebase/auth'\r\nimport { auth } from '../../firebaseConfig'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction Register() {\r\n    const [registerForm, setRegisterForm] = useState({\r\n        email: \"\",\r\n        username: \"\",\r\n        password: \"\"\r\n    })\r\n    const navigate = useNavigate();\r\n            \r\n\r\n    function handleRegisterForm(e) {\r\n        const {name, value} = e.target\r\n        setRegisterForm(prevForm => ({\r\n            ...prevForm,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n    }\r\n\r\n    async function handleSignUp() {\r\n        try {\r\n            await createUserWithEmailAndPassword(auth, registerForm.email, registerForm.password)\r\n            updateProfile(auth.currentUser, {displayName: registerForm.username})\r\n            navigate(\"/\")\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n  return (\r\n    <div className='register'>\r\n        <h1>Register</h1>\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"email\"\r\n                value={registerForm.email}\r\n                name=\"email\"\r\n                onChange={handleRegisterForm}\r\n                placeholder=\"Email\"\r\n            />\r\n\r\n            <input\r\n                type=\"text\"\r\n                value={registerForm.username}\r\n                name=\"username\"\r\n                onChange={handleRegisterForm}\r\n                placeholder=\"Username\"\r\n            />\r\n\r\n            <input\r\n                type=\"password\"\r\n                value={registerForm.password}\r\n                name=\"password\"\r\n                onChange={handleRegisterForm}\r\n                placeholder=\"Password\"\r\n            />\r\n\r\n            <button onClick={handleSignUp}>Submit</button>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register","import { useState } from 'react'\r\nimport { signInWithEmailAndPassword } from 'firebase/auth'\r\nimport { auth } from '../../firebaseConfig'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction Login() {\r\n    const [loginForm, setLoginForm] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n    const navigate = useNavigate();\r\n            \r\n\r\n    function handleLoginForm(e) {\r\n        const {name, value} = e.target\r\n        setLoginForm(prevForm => ({\r\n            ...prevForm,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n    }\r\n\r\n    async function handleLogin() {\r\n        try {\r\n           \r\n            await signInWithEmailAndPassword(auth, loginForm.email, loginForm.password)\r\n            // updateProfile(auth.currentUser, {displayName: registerForm.username})\r\n            navigate(\"/\")\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n  return (\r\n    <div className='register'>\r\n        <h1>Login</h1>\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"email\"\r\n                value={loginForm.email}\r\n                name=\"email\"\r\n                onChange={handleLoginForm}\r\n                placeholder=\"Email\"\r\n            />\r\n\r\n            <input\r\n                type=\"password\"\r\n                value={loginForm.password}\r\n                name=\"password\"\r\n                onChange={handleLoginForm}\r\n                placeholder=\"Password\"\r\n            />\r\n\r\n            <button onClick={handleLogin}>Login</button>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import { arrayRemove, arrayUnion, doc, onSnapshot, updateDoc } from 'firebase/firestore'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\nimport { auth, db } from '../firebaseConfig'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nfunction Comment({id}) {\r\n    const [comments, setComments] = useState([])\r\n    const [commentForm, setCommentForm] = useState(\"\")\r\n    const [currentlyLoggedInUser] = useAuthState(auth)\r\n    //console.log(currentlyLoggedInUser)\r\n    const newCommentRef = doc(db, \"Articles\", id);\r\n    useEffect(() => {\r\n        const commentRef = doc(db, \"Articles\", id);\r\n        onSnapshot(commentRef, (snapshot) => {\r\n            setComments(snapshot.data().comments)\r\n            // console.log(snapshot.data)\r\n            // console.log(comments)\r\n        })\r\n        \r\n    }, [])\r\n\r\n    // function handleDeleteComment(comment) {\r\n    //     console.log(comment)\r\n    //     updateDoc(newCommentRef, {\r\n    //         comments: arrayRemove(comment),\r\n    //     })\r\n    //     .then(e => console.log(e))\r\n    //     .catch(e => console.log(e))\r\n    // }\r\n\r\n    const handleDeleteComment = (comment) => {\r\n       \r\n        updateDoc(newCommentRef, {\r\n            comments: arrayRemove(comment),\r\n        })\r\n        \r\n        .catch((error) => {\r\n            console.log(error);\r\n        })\r\n      };\r\n    // function handleCommentForm(e) {\r\n    //     const [name, value] = e.target;\r\n    //     setCommentForm({[name]: value})\r\n    // }\r\n\r\n    function submitComment(e) {\r\n        updateDoc(newCommentRef, {\r\n            comments: arrayUnion({\r\n                user: currentlyLoggedInUser.uid,\r\n                userName: currentlyLoggedInUser.displayName,\r\n                comment: commentForm,\r\n                createdAt: new Date(),\r\n                commentId: uuidv4()\r\n            })\r\n        }).then(() => setCommentForm(\"\"))\r\n\r\n        \r\n    }\r\n    \r\n    // comment\r\n    // \"nice article\"\r\n    // commentId\r\n    // \"93331528-5a46-4f4b-beea-c402e3ff7795\"\r\n    // createdAt\r\n    // May 13, 2022 at 4:47:33 PM UTC+1\r\n    // user\r\n    // \"OG8ilVnXzXO34Ri1d4EuzCMw4ON2\"\r\n    // userName\r\n    // \"anonbeeta\"{commentId, user, comment, userName}\r\n\r\n  return (\r\n    <div>\r\n        {\r\n            currentlyLoggedInUser && \r\n\r\n            <div className='comment'> \r\n            \r\n                <input \r\n                    type=\"text\" \r\n                    value={commentForm} \r\n                    name=\"comment\" \r\n                    onChange={(e) => setCommentForm(e.target.value)}\r\n                    placeholder=\"Enter comment\"\r\n                />\r\n                <button onClick={submitComment}>Post Comment</button>\r\n            </div>\r\n        }\r\n        { comments !== null && \r\n            comments.map(({commentId, userName, user, comment, createdAt}) => (\r\n                \r\n                <div key={commentId}>\r\n                    \r\n                   <h4 style={{\r\n                       color: currentlyLoggedInUser !== null && user === currentlyLoggedInUser.uid ? \"green\" : \"blue\"\r\n                   }}>{userName}</h4> \r\n                   {/* <p>{currentlyLoggedInUser.uid}</p> */}\r\n                   <p>{comment}</p>\r\n                   {    \r\n                        currentlyLoggedInUser !== null && user === currentlyLoggedInUser.uid &&\r\n                       <button onClick={() => handleDeleteComment({ commentId, user, comment, userName , createdAt})}>Delete Comment</button>\r\n                   }\r\n                   \r\n                </div>\r\n                // <p>{comments.length}</p>\r\n            ))\r\n            \r\n        }\r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Comment","import { doc, onSnapshot } from 'firebase/firestore';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useParams } from 'react-router-dom'\r\nimport { auth, db } from '../firebaseConfig';\r\nimport Comment from './Comment';\r\nimport LikeArticle from './LikeArticle';\r\n\r\nfunction ReadEachArticle() {\r\n    const {id} = useParams();\r\n    const [article, setArticle] = useState(null);\r\n    const [user] = useAuthState(auth)\r\n    useEffect(() => {\r\n        const docRef = doc(db, \"Articles\", id);\r\n        onSnapshot(docRef, (snapshot) => {\r\n            setArticle({...snapshot.data(), id: snapshot.id})\r\n        })\r\n    }, [])\r\n  return (\r\n    <div>\r\n        {\r\n            article && \r\n            <div>\r\n                \r\n                <h2>{article.title}</h2>\r\n                <p>Created on {article.createdAt.toDate().toDateString()} by {article.createdBy}</p>\r\n                <img src={article.imgUrl} />\r\n                <p>{article.description}</p>\r\n                {user && <LikeArticle id={id} likes={article.likes} />}\r\n                <Comment id={article.id}/>\r\n            \r\n            </div>\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ReadEachArticle","import './App.css';\nimport Articles from './components/Articles';\nimport Navbar from './components/Navbar';\nimport NewArticle from './components/NewArticle';\nimport { BrowserRouter as Router, routes, Route, Routes } from 'react-router-dom';\nimport Register from './components/auth/Register';\nimport Login from './components/auth/Login';\nimport ReadEachArticle from './components/ReadEachArticle';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        \n        <Router>\n            <Navbar />\n            <Routes>\n                <Route path=\"/register\" element={<Register />}></Route>\n                <Route path=\"/login\" element={<Login />}></Route>\n                <Route path={\"/\" || \"/React_Blog\"} element={<><NewArticle /><Articles />\n                </>}>\n                </Route>\n                <Route path=\"/article/:createdBy/:id\" element={<ReadEachArticle />}> </Route>\n            </Routes>\n        </Router>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}